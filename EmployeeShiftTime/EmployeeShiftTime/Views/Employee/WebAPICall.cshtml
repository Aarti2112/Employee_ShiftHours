
<h2>WebAPI</h2>

@{
    var WebUrl = System.Web.Configuration.WebConfigurationManager.AppSettings["WebApiUrl"].ToString();
    
}
   
    <script src="Scripts/jquery-3.3.1.js"></script>

    <div>
        <table id="EmpDetails">
            <tr>
                <td>FirstName</td>
                <td>Surname</td>
                <td>Shift Hours</td>
            </tr>
        </table>
       
        <div id="status"></div>

        <script type="text/javascript">
            var month = new Array();
            month[0] = "January";
            month[1] = "February";
            month[2] = "March";
            month[3] = "April";
            month[4] = "May";
            month[5] = "June";
            month[6] = "July";
            month[7] = "August";
            month[8] = "September";
            month[9] = "October";
            month[10] = "November";
            month[11] = "December";
            
            $("#status").text("Loading...");

            $.get("@WebUrl", null, BindData);
            
            function BindData(employees) {

                var table = $("#EmpDetails");

                for (var i = 0; i < employees.length; i++) {
                    var newRow = "<tr>" +
                    "<td>" + employees[i].Firstname + "</td>" +
                    "<td>" + employees[i].Lastname + "</td>" +
                    "<td>" + "Total " + employees[i].No_Of_Hours + " hours in the month of " + month[employees[i].Per_Month - 1] + "</td>" +
                    "</tr>";

                    table.append(newRow);
                }

            }
            $("#status").text(" ");
        </script>

    </div>

